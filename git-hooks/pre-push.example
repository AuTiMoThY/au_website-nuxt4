#!/bin/bash
# Git Pre-Push Hook ç¯„ä¾‹
# åœ¨æ¨é€åˆ°ä¼ºæœå™¨å‰åŸ·è¡Œæª¢æŸ¥

echo "ğŸ” æª¢æŸ¥å³å°‡æ¨é€çš„æ›´æ”¹..."

# åŸ·è¡Œæ§‹å»ºæª¢æŸ¥ï¼ˆå¯é¸ï¼‰
echo "ğŸ§ª åŸ·è¡Œæœ¬åœ°æ§‹å»ºæ¸¬è©¦..."
npm run build

if [ $? -ne 0 ]; then
    echo "âŒ æ§‹å»ºå¤±æ•—ï¼Œå–æ¶ˆæ¨é€"
    exit 1
fi

# åŸ·è¡Œ lint æª¢æŸ¥ï¼ˆå¯é¸ï¼‰
if command -v eslint &> /dev/null; then
    echo "ğŸ” åŸ·è¡Œ ESLint æª¢æŸ¥..."
    npm run lint
fi

echo "âœ… æª¢æŸ¥é€šéï¼Œå…è¨±æ¨é€"

